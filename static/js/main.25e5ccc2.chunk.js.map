{"version":3,"sources":["services/config-secret.js","services/config.js","services/firebase-initialisation.js","services/crud-utilisateurs.js","composants/Entete.jsx","composants/Accueil.jsx","images/couverture-defaut.jpg","services/crud-dossiers.js","composants/Dossier.jsx","composants/ListeDossiers.jsx","composants/FormDossier.jsx","composants/Appli.jsx","index.jsx"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","collUtil","collDossiers","firebase","apps","length","initializeApp","instanceFirebaseAuth","auth","instanceFirestore","firestore","instanceFirebaseUI","firebaseui","AuthUI","observerConnexion","mutateurUtilisateur","onAuthStateChanged","util","idUtilisateur","nomUtilisateur","courrielUtilisateur","uid","displayName","email","collection","doc","set","nom","courriel","merge","Entete","props","utilisateur","className","Button","variant","size","onClick","signOut","Avatar","alt","src","photoURL","Accueil","useEffect","refEltAncrage","start","signInOptions","GoogleAuthProvider","PROVIDER_ID","signInFlow","id","a","dossiers","get","then","reponse","forEach","push","data","idDossier","delete","dossier","modification","FieldValue","serverTimestamp","add","refDoc","Dossier","titre","couleur","couverture","supprimerDossier","style","backgroundColor","IconButton","aria-label","disableRipple","couvertureDefaut","obtenirDateFormatee","objetDateFb","dateJS","Date","seconds","jour","getDate","mois","getMonth","annee","getFullYear","ListeDossiers","setDossiers","crudDossiers","filter","d","lesDossiers","map","FormDossier","ouvert","setOuvert","gererAjoutDossier","useState","setTitre","setCouverture","setCouleur","gererFermer","Dialog","open","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","autoFocus","margin","label","type","fullWidth","onChange","e","target","value","triangle","colors","onChangeComplete","hex","DialogActions","color","Appli","setUtilisateur","crudUtilisateurs","docDossier","Fab","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gXAUeA,EATQ,CACrBC,OAAQ,0CACRC,WAAY,6BACZC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,6CCFIC,EAAW,uBACXC,EAAe,WCAA,IAAzBC,IAASC,KAAKC,QACfF,IAASG,cAAcZ,GAIlB,IAAMa,EAAuBJ,IAASK,OAGhCC,EAAoBN,IAASO,YAG7BC,EAAqB,IAAIC,IAAgBC,OAAON,G,OCEtD,SAASO,EAAkBC,GAChCR,EAAqBS,oBACnB,SAAAC,GAYJ,IAAqBC,EAAeC,EAAgBC,EAV9CL,EAAoBE,GAGR,OAATA,IAOYC,EANDD,EAAKI,IAMWF,EANNF,EAAKK,YAMiBF,EANJH,EAAKM,MAOnDd,EAAkBe,WAAWvB,GAAUwB,IAAIP,GAAeQ,IACxD,CAACC,IAAKR,EAAgBS,SAAUR,GAChC,CAACS,OAAO,Q,WC/BG,SAASC,EAAOC,GAC7B,IAAMC,EAAcD,EAAMC,YAC1B,OACE,yBAAQC,UAAU,SAAlB,UACE,sBAAKA,UAAU,OAAf,oBAEE,cAACC,EAAA,EAAD,CACEC,QAAQ,WACRC,KAAK,QACLH,UAAU,iBACVI,QAAS,WD2BjB9B,EAAqB+B,WC/Bf,+BAOF,sBAAKL,UAAU,cAAf,UAA8BD,EAAYV,YAA1C,IAAuD,cAACiB,EAAA,EAAD,CAAQN,UAAU,SAASO,IAAKR,EAAYV,YAAamB,IAAKT,EAAYU,iB,OCdxH,SAASC,IAItB,OAFAC,qBAAU,kBFIWC,EEJmB,aFKxClC,EAAmBmC,MAAMD,EAAe,CACtCE,cAAe,CACb5C,IAASK,KAAKwC,mBAAmBC,aAEnCC,WAAY,UALT,IAAgBL,IEJ6B,IAGhD,sBAAKZ,UAAU,UAAf,UACE,qBAAIA,UAAU,OAAd,qBAA6B,6CAC7B,qBAAIA,UAAU,SAAd,wCAAkD,uBAAlD,qBACA,qBAAKkB,GAAG,Y,+DCZC,MAA0B,8C,qECIlC,WAAwB9B,GAAxB,eAAA+B,EAAA,6DACDC,EAAW,GADV,kBAEE5C,EAAkBe,WAAWvB,GAAUwB,IAAIJ,GAAKG,WAAWtB,GAAcoD,MAAMC,MAC1D,SAAAC,GACEA,EAAQC,SAAQ,SAAAhC,GAAG,OAAI4B,EAASK,KAAT,2BAAkBjC,EAAIkC,QAAtB,IAA8BR,GAAI1B,EAAI0B,YAE/DI,MACA,kBAAMF,MAP7B,4C,kEAWA,WAAyBhC,EAAKuC,GAA9B,SAAAR,EAAA,+EACE3C,EAAkBe,WAAWvB,GAAUwB,IAAIJ,GAAKG,WAAWtB,GAAcuB,IAAImC,GAAWC,UAD1F,4C,kEAgBA,WAAqBxC,EAAKyC,GAA1B,SAAAV,EAAA,6DACLU,EAAQC,aAAe5D,IAASO,UAAUsD,WAAWC,kBADhD,kBAEExD,EAAkBe,WAAWvB,GAAUwB,IAAIJ,GAAKG,WAAWtB,GAC/DgE,IAAIJ,GAASP,MACZ,SAAAY,GAAM,OAAIA,EAAOb,UAJhB,4C,sBCxBQ,SAASc,EAAT,GAAoF,IAAlEjB,EAAiE,EAAjEA,GAAIkB,EAA6D,EAA7DA,MAAOC,EAAsD,EAAtDA,QAASP,EAA6C,EAA7CA,aAAcQ,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,iBAC7E,OACE,0BAASvC,UAAU,UAAUwC,MAAO,CAACC,gBAAiBJ,GAAtD,UACE,sBAAKrC,UAAU,aAAf,UACE,cAAC0C,EAAA,EAAD,CAAY1C,UAAU,WAAW2C,aAAW,cAAWC,eAAe,EAAtE,SACE,cAAC,IAAD,MAEF,qBAAKpC,IAAK8B,GAAcO,EAAkBtC,IAAK6B,OAEjD,sBAAKpC,UAAU,OAAf,UACE,6BAAKoC,IACL,8CAAcU,EAAoBhB,SAEpC,cAACY,EAAA,EAAD,CAAY1C,UAAU,WAAW2C,aAAW,WAAWxC,KAAK,QAA5D,SACE,cAAC,IAAD,CAAYC,QAAS,kBAAMmC,EAAiBrB,WAMpD,SAAS4B,EAAoBC,GAC3B,IAAIC,EAAUD,EAAe,IAAIE,KAAyB,IAApBF,EAAYG,SAAgB,IAAID,KAElEE,EAAOH,EAAOI,UACdC,EAFc,CAAC,UAAW,aAAW,OAAQ,QAAS,MAAO,OAAQ,UAAW,UAAQ,YAAa,UAAW,WAAY,eAEzGL,EAAOM,YAC1BC,EAAQP,EAAOQ,cAEnB,MAAM,GAAN,OAAUL,EAAV,YAAkBE,EAAlB,YAA0BE,GC7Bb,SAASE,EAAc3D,GACpC,IAAMC,EAAcD,EAAMC,YACpBqB,EAAWtB,EAAMsB,SACjBsC,EAAc5D,EAAM4D,YAY1B,SAASnB,EAAiBZ,IFLrB,SAAP,qCEMIgC,CAAuB5D,EAAYX,IAAKuC,GAAWL,MACjD,WACEoC,EAAYtC,EAASwC,QAAO,SAAAC,GAAC,OAAIA,EAAE3C,KAAOS,SAKhD,OAfAhB,qBACE,kBFVG,SAAP,kCEUUgD,CAAsB5D,EAAYX,KAAKkC,MAC3C,SAAAwC,GAAW,OAAIJ,EAAYI,QAE3B,IAYF,oBAAI9D,UAAU,gBAAd,SAEIoB,EAAS2C,KACP,SAAAlC,GAAO,OAAK,6BACE,cAAC,EAAD,2BACMA,GADN,IAEEzC,IAAKW,EAAYX,IACjBmD,iBAAkBA,MAJbV,EAAQX,S,qFCrBxB,SAAS8C,EAAT,GAA8D,IAAxCC,EAAuC,EAAvCA,OAAQC,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,kBAAoB,EAChDC,mBAAS,IADuC,mBACnEhC,EADmE,KAC5DiC,EAD4D,OAEtCD,mBAAS,IAF6B,mBAEnE9B,EAFmE,KAEvDgC,EAFuD,OAG5CF,mBAAS,QAHmC,mBAGnE/B,EAHmE,KAG1DkC,EAH0D,KAMpEC,EAAc,WAClBN,GAAU,GAMVG,EAAS,IACTC,EAAc,IACdC,EAAW,SAWb,OACE,eAACE,EAAA,EAAD,CAAQC,KAAMT,EAAQU,QAASH,EAAaI,kBAAgB,oBAA5D,UACE,cAACC,EAAA,EAAD,CAAa3D,GAAG,oBAAhB,6BACA,eAAC4D,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CACEC,WAAS,EACTC,OAAO,QACP/D,GAAG,QACHgE,MAAM,mBACNC,KAAK,OACLC,WAAS,EACTC,SAAU,SAACC,GAAD,OAAKjB,EAASiB,EAAEC,OAAOC,UAEnC,cAACT,EAAA,EAAD,CACEE,OAAO,QACP/D,GAAG,aACHgE,MAAM,sBACNC,KAAK,MACLC,WAAS,EACTC,SAAU,SAACC,GAAD,OAAKhB,EAAcgB,EAAEC,OAAOC,UAExC,cAAC,IAAD,CACEC,SAAS,OACTC,OAAQ,CAAC,OAAQ,OAAQ,QACzBC,iBAAkB,SAACtD,EAASiD,GAAV,OAAgBf,EAAWlC,EAAQuD,WAGzD,eAACC,EAAA,EAAD,WACE,cAAC5F,EAAA,EAAD,CAAQG,QAASoE,EAAasB,MAAM,UAApC,qBAGA,cAAC7F,EAAA,EAAD,CAAQG,QAvCd,WAEE+D,EAAkB/B,EAAOE,EAAYD,GAGrCmC,KAkC2CsB,MAAM,UAA7C,2BCtDO,SAASC,IAAQ,MAEQ3B,mBAAS,MAFjB,mBAEvBrE,EAFuB,KAEViG,EAFU,OAIE5B,mBAAS,IAJX,mBAIvBhD,EAJuB,KAIbsC,EAJa,OAMFU,oBAAS,GANP,mBAMvBH,EANuB,KAMfC,EANe,KAwB9B,OANAvD,qBACE,WACEsF,EAAmCD,KAErC,IAGA,qBAAKhG,UAAU,QAAf,SAEID,EACE,qCACE,cAAC,EAAD,CAAQA,YAAaA,IACrB,0BAASC,UAAU,oBAAnB,UACE,cAAC,EAAD,CAAeD,YAAaA,EAAaqB,SAAUA,EAAUsC,YAAaA,IAC1E,cAACM,EAAD,CAAaC,OAAQA,EAAQC,UAAWA,EAAWC,kBAxB/D,SAA2B/B,EAAOE,EAAYD,IJSzC,SAAP,qCIRIsB,CAAmB5D,EAAYX,IAAK,CAClCgD,MAAOA,EACPE,WAAYA,EACZD,QAASA,IACRf,MACD,SAAA4E,GAAU,OAAIxC,EAAY,GAAD,mBAAKtC,GAAL,cAAgBF,GAAIgF,EAAWhF,IAAOgF,EAAWxE,iBAmBlE,cAACyE,EAAA,EAAD,CAAK/F,QAAS,kBAAM8D,GAAU,IAAOlE,UAAU,iBAAiB8F,MAAM,UAAUnD,aAAW,kBAA3F,SACE,cAAC,IAAD,YAKN,cAAC,EAAD,MChDVyD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,a","file":"static/js/main.25e5ccc2.chunk.js","sourcesContent":["// Votre propre objet de configuration ici ;-)\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCoWgkBcWdz_M9GjEr5TE-b7tJfejQy1JI\",\r\n  authDomain: \"react-iwra.firebaseapp.com\",\r\n  projectId: \"react-iwra\",\r\n  storageBucket: \"react-iwra.appspot.com\",\r\n  messagingSenderId: \"422100533764\",\r\n  appId: \"1:422100533764:web:5cb055c9062799e8812b51\"\r\n};\r\n\r\nexport default firebaseConfig;","// Objet de configuration importé et exporté immédiatement à partir du fichier\r\n// config-secret.js\r\nexport { default } from './config-secret';\r\n\r\n// Nom de la collection principale \r\nexport const collUtil = 'signets-utilisateurs';\r\nexport const collDossiers = 'dossiers';","import firebase from 'firebase/app';\r\nimport firestore from 'firebase/firestore';\r\nimport * as firebaseui from 'firebaseui';\r\nimport firebaseConfig from './config';\r\n\r\n// Initialiser Firebase\r\nif(firebase.apps.length === 0) {\r\n  firebase.initializeApp(firebaseConfig);\r\n}\r\n\r\n// Initialiser Firebase Auth\r\nexport const instanceFirebaseAuth = firebase.auth();\r\n\r\n// Initialiser Firestore\r\nexport const instanceFirestore = firebase.firestore();\r\n\r\n// Initialiser FirebaseUI\r\nexport const instanceFirebaseUI = new firebaseui.auth.AuthUI(instanceFirebaseAuth);","import { instanceFirebaseUI, instanceFirestore, instanceFirebaseAuth } from './firebase-initialisation';\r\nimport firebase from 'firebase/app';\r\nimport 'firebaseui/dist/firebaseui.css';\r\n\r\nimport {collUtil, collDossiers} from './config';\r\n\r\n/**\r\n * Initialise le widget d'authentification FirebaseUI\r\n * @param {string} refEltAncrage sélecteur de l'élément qui recevra le widget\r\n */\r\nexport function initUI(refEltAncrage) {\r\n  instanceFirebaseUI.start(refEltAncrage, {\r\n    signInOptions: [\r\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID\r\n    ],\r\n    signInFlow: 'popup'\r\n  });\r\n}\r\n\r\nexport function observerConnexion(mutateurUtilisateur) {\r\n  instanceFirebaseAuth.onAuthStateChanged(\r\n    util => {\r\n      // Changer l'état de la variable 'utilisateur'\r\n      mutateurUtilisateur(util);\r\n      // Si l'utilisteur vient de se loguer, créer son profil dans Firestore\r\n      // si c'est un nouvel utilisateur (ou rien faire s'il existe déjà)\r\n      if(util !== null) {\r\n        creerProfil(util.uid, util.displayName, util.email)\r\n      }\r\n    }\r\n  )\r\n}\r\n\r\nfunction creerProfil(idUtilisateur, nomUtilisateur, courrielUtilisateur) {\r\n  instanceFirestore.collection(collUtil).doc(idUtilisateur).set(\r\n    {nom: nomUtilisateur, courriel: courrielUtilisateur},\r\n    {merge: true}\r\n  );\r\n}\r\n\r\n\r\nexport function deconnexion() {\r\n  instanceFirebaseAuth.signOut();\r\n}\r\n","import './Entete.scss';\r\nimport { Avatar } from '@material-ui/core'; \r\nimport Button from '@material-ui/core/Button';\r\nimport * as crudutilisateurs from '../services/crud-utilisateurs';\r\n\r\nexport default function Entete(props) {\r\n  const utilisateur = props.utilisateur;\r\n  return (\r\n    <header className=\"Entete\">\r\n      <div className=\"logo\">\r\n        Signets\r\n        <Button\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          className=\"btnDeconnexion\"\r\n          onClick={() => crudutilisateurs.deconnexion()}\r\n        >Déconnexion</Button>\r\n      </div>\r\n      <div className=\"utilisateur\">{utilisateur.displayName} <Avatar className=\"avatar\" alt={utilisateur.displayName} src={utilisateur.photoURL} /></div>\r\n    </header>\r\n  );\r\n}","import './Accueil.scss';\r\nimport { useEffect } from 'react';\r\nimport * as crudUtilisateurs from '../services/crud-utilisateurs';\r\n\r\nexport default function Accueil() {\r\n  // Afficher le widget d'authentification\r\n  useEffect(() => crudUtilisateurs.initUI('#fbui'), []);\r\n\r\n  return (\r\n    <div className=\"Accueil\">\r\n      <h3 className=\"logo\">Signets <span>(beta)</span></h3>\r\n      <h2 className=\"amorce\">Organisez vos signets Web, <br/>Un jeu d'enfant</h2>\r\n      <div id=\"fbui\"></div>\r\n    </div>\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/couverture-defaut.3fd73ce6.jpg\";","import {instanceFirestore} from './firebase-initialisation';\r\nimport {collUtil, collDossiers} from './config';\r\nimport firebase from 'firebase/app';\r\n\r\nexport async function lireTout(uid) {\r\n  let dossiers = [];\r\n  return instanceFirestore.collection(collUtil).doc(uid).collection(collDossiers).get().then(\r\n                              reponse => {\r\n                                reponse.forEach(doc => dossiers.push({...doc.data(), id: doc.id}));\r\n                              }\r\n                            ).then(\r\n                              () => dossiers\r\n                            );\r\n}\r\n\r\nexport async function supprimer(uid, idDossier) {\r\n  return instanceFirestore.collection(collUtil).doc(uid).collection(collDossiers).doc(idDossier).delete();\r\n}\r\n\r\nexport async function modifier() {\r\n\r\n}\r\n\r\n/**\r\n * Crée un nouveau dossier pour l'utilisateur connecté, et retourne les données\r\n * de ce dossier\r\n * @param {string} uid Identifiant Firebase Auth de l'utilisateur connecté\r\n * @param {Object} dossier objet JS à ajouter comme document dans la collection\r\n * dossier de l'utlisateur\r\n * @returns {Promise<Object>} Objet contenant les données du dossier créé\r\n */\r\nexport async function creer(uid, dossier) {\r\n  dossier.modification = firebase.firestore.FieldValue.serverTimestamp();\r\n  return instanceFirestore.collection(collUtil).doc(uid).collection(collDossiers)\r\n    .add(dossier).then(\r\n      refDoc => refDoc.get()\r\n    )\r\n}","import './Dossier.scss'; \r\nimport { IconButton } from '@material-ui/core';\r\nimport SortIcon from '@material-ui/icons/Sort';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport couvertureDefaut from '../images/couverture-defaut.jpg';\r\nimport * as crudDossiers from '../services/crud-dossiers';\r\n\r\nexport default function Dossier({id, titre, couleur, modification, couverture, supprimerDossier}) {\r\n  return (\r\n    <article className=\"Dossier\" style={{backgroundColor: couleur}}>\r\n      <div className=\"couverture\">\r\n        <IconButton className=\"deplacer\" aria-label=\"déplacer\" disableRipple={true}>\r\n          <SortIcon />\r\n        </IconButton>\r\n        <img src={couverture || couvertureDefaut} alt={titre}/>\r\n      </div>\r\n      <div className=\"info\">\r\n        <h2>{titre}</h2>\r\n        <p>Modifié : {obtenirDateFormatee(modification)}</p>\r\n      </div>\r\n      <IconButton className=\"modifier\" aria-label=\"modifier\" size=\"small\">\r\n        <DeleteIcon onClick={() => supprimerDossier(id) } />\r\n      </IconButton>\r\n    </article>\r\n  );\r\n}\r\n\r\nfunction obtenirDateFormatee(objetDateFb) {\r\n  let dateJS = (objetDateFb) ? new Date(objetDateFb.seconds*1000) : new Date();\r\n  let nomsDesMois = ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre'];\r\n  let jour = dateJS.getDate();\r\n  let mois = nomsDesMois[dateJS.getMonth()];\r\n  let annee = dateJS.getFullYear();\r\n\r\n  return `${jour} ${mois} ${annee}`;\r\n}","import './ListeDossiers.scss';\r\nimport Dossier from './Dossier';\r\nimport { useEffect, useState } from 'react';\r\nimport * as crudDossiers  from '../services/crud-dossiers';\r\n\r\nexport default function ListeDossiers(props) {\r\n  const utilisateur = props.utilisateur;\r\n  const dossiers = props.dossiers;\r\n  const setDossiers = props.setDossiers;\r\n\r\n  // Étape C : Exécuter une requête sur la collection 'dossiers-temp' pour lire l'info des dossiers disponibles\r\n  // Comme le code suivant fait appel à une ressource externe, il est ASYNCHRONE\r\n  // donc, il n'y a pas de garantie que le tableau dossiers soit remplit avant l'affichage du composant\r\n  useEffect(\r\n    () => crudDossiers.lireTout(utilisateur.uid).then(\r\n      lesDossiers => setDossiers(lesDossiers)\r\n    )\r\n    , []\r\n  );\r\n\r\n  function supprimerDossier(idDossier) {\r\n    crudDossiers.supprimer(utilisateur.uid, idDossier).then(\r\n      () => {\r\n        setDossiers(dossiers.filter(d => d.id !== idDossier))\r\n      }\r\n    )\r\n  }\r\n\r\n  return (\r\n    <ul className=\"ListeDossiers\">\r\n      {\r\n        dossiers.map( \r\n          dossier =>  <li key={dossier.id}>\r\n                        <Dossier \r\n                          {...dossier} \r\n                          uid={utilisateur.uid} \r\n                          supprimerDossier={supprimerDossier} \r\n                        />\r\n                      </li>\r\n        )\r\n      }\r\n    </ul>\r\n  );\r\n}","import Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { useState } from 'react';\r\nimport { TwitterPicker } from 'react-color';\r\n\r\n\r\nexport default function FormDossier({ouvert, setOuvert, gererAjoutDossier}) {\r\n  const [titre, setTitre] = useState('');\r\n  const [couverture, setCouverture] = useState('');\r\n  const [couleur, setCouleur] = useState('#f00');\r\n\r\n\r\n  const gererFermer = () => {\r\n    setOuvert(false);\r\n    // Réinitialiser les états\r\n    reinitialiserEtats();\r\n  };\r\n\r\n  function reinitialiserEtats() {\r\n    setTitre('');\r\n    setCouverture('');\r\n    setCouleur('#f00');\r\n  }\r\n\r\n  function gererEnvoiFormulaire() {\r\n    // 1) Appeler une fonction qui permet d'intégrer le backend (firebase)\r\n    gererAjoutDossier(titre, couverture, couleur)\r\n\r\n    // 2) Fermer la boîte de dialogue\r\n    gererFermer();\r\n  }\r\n\r\n  return (\r\n    <Dialog open={ouvert} onClose={gererFermer} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">Ajouter dossier</DialogTitle>\r\n      <DialogContent>\r\n        <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          id=\"titre\"\r\n          label=\"Titre du dossier\"\r\n          type=\"text\"\r\n          fullWidth\r\n          onChange={(e)=>setTitre(e.target.value)}\r\n        />\r\n        <TextField\r\n          margin=\"dense\"\r\n          id=\"couverture\"\r\n          label=\"Image de couverture\"\r\n          type=\"url\"\r\n          fullWidth\r\n          onChange={(e)=>setCouverture(e.target.value)}\r\n        />\r\n        <TwitterPicker\r\n          triangle=\"hide\"\r\n          colors={['#f00', '#0f0', '#00f']}\r\n          onChangeComplete={(couleur, e) => setCouleur(couleur.hex)}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={gererFermer} color=\"primary\">\r\n          Annuler\r\n        </Button>\r\n        <Button onClick={gererEnvoiFormulaire} color=\"primary\">\r\n          Ajouter\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import './Appli.scss';\r\nimport Entete from './Entete';\r\nimport Accueil from './Accueil';\r\nimport ListeDossiers from './ListeDossiers';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useState, useEffect } from 'react';\r\nimport firebase from 'firebase/app'; \r\nimport { instanceFirestore, instanceFirebaseAuth } from '../services/firebase-initialisation';\r\nimport { collUtil } from '../services/config';\r\nimport FormDossier from './FormDossier';\r\nimport * as crudDossiers from '../services/crud-dossiers';\r\nimport * as crudUtilisateurs from '../services/crud-utilisateurs';\r\n\r\nexport default function Appli() {\r\n  // État de l'utilisateur\r\n  const [utilisateur, setUtilisateur] = useState(null);\r\n  // État des dossiers de signets\r\n  const [dossiers, setDossiers] = useState([]);\r\n  // État du formulaire de dossiers\r\n  const [ouvert, setOuvert] = useState(false);\r\n\r\n  function gererAjoutDossier(titre, couverture, couleur) {\r\n    crudDossiers.creer(utilisateur.uid, {\r\n      titre: titre,\r\n      couverture: couverture,\r\n      couleur: couleur\r\n    }).then(\r\n      docDossier => setDossiers([...dossiers, {id: docDossier.id, ...docDossier.data()}])\r\n    )\r\n  }\r\n\r\n  useEffect(\r\n    () => {\r\n      crudUtilisateurs.observerConnexion(setUtilisateur)\r\n    }\r\n  , []);\r\n\r\n  return (\r\n    <div className=\"Appli\">\r\n      {\r\n        utilisateur ?\r\n          <>\r\n            <Entete utilisateur={utilisateur} />\r\n            <section className=\"contenu-principal\">\r\n              <ListeDossiers utilisateur={utilisateur} dossiers={dossiers} setDossiers={setDossiers} />\r\n              <FormDossier ouvert={ouvert} setOuvert={setOuvert} gererAjoutDossier={gererAjoutDossier} />\r\n              <Fab onClick={() => setOuvert(true)} className=\"ajoutRessource\" color=\"primary\" aria-label=\"Ajouter dossier\">\r\n                <AddIcon />\r\n              </Fab>\r\n            </section>\r\n          </>\r\n        :\r\n          <Accueil />\r\n      }\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport Appli from './composants/Appli';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Appli />\r\n  </React.StrictMode>,\r\n  document.getElementById('racine')\r\n);\r\n"],"sourceRoot":""}