{"version":3,"sources":["composants/Entete.jsx","data/firebase.js","composants/Accueil.jsx","composants/Dossier.jsx","composants/ListeDossiers.jsx","composants/Appli.jsx","index.jsx"],"names":["Entete","props","utilisateur","console","log","className","Button","variant","size","onClick","firebase","auth","signOut","displayName","Avatar","alt","src","photoURL","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","dbFirestore","firestore","instanceFbUI","firebaseui","AuthUI","Accueil","useEffect","start","signInOptions","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","GithubAuthProvider","signInFlow","id","Dossier","nom","couleur","modification","image","style","backgroundColor","IconButton","aria-label","disableRipple","obtenirDateFormatee","objetDateFb","dateJS","Date","seconds","jour","getDate","mois","getMonth","annee","getFullYear","ListeDossiers","useState","dossiers","setDossiers","collection","get","then","reponse","dossiersTemp","forEach","doc","push","data","map","dossier","Appli","setUtilisateur","onAuthStateChanged","util","Fab","color","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f94b9682.chunk.js","sourcesContent":["import './Entete.scss';\r\nimport { Avatar } from '@material-ui/core'; \r\nimport Button from '@material-ui/core/Button';\r\nimport firebase from 'firebase/app';\r\n\r\nexport default function Entete(props) {\r\n  const utilisateur = props.utilisateur;\r\n  console.log(\"L'utilisateur Firebase Auth connecté : \", utilisateur);\r\n  return (\r\n    <header className=\"Entete\">\r\n      <div className=\"logo\">\r\n        Signets\r\n        <Button\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          className=\"btnDeconnexion\"\r\n          onClick={() => firebase.auth().signOut()}\r\n        >Déconnexion</Button>\r\n      </div>\r\n      <div className=\"utilisateur\">{utilisateur.displayName} <Avatar className=\"avatar\" alt={utilisateur.displayName} src={utilisateur.photoURL} /></div>\r\n    </header>\r\n  );\r\n}","import firebase from 'firebase/app';\r\nimport firestore from 'firebase/firestore';\r\nimport * as firebaseui from 'firebaseui';\r\n\r\n// Votre propre objet de configuration ici ;-)\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCoWgkBcWdz_M9GjEr5TE-b7tJfejQy1JI\",\r\n  authDomain: \"react-iwra.firebaseapp.com\",\r\n  projectId: \"react-iwra\",\r\n  storageBucket: \"react-iwra.appspot.com\",\r\n  messagingSenderId: \"422100533764\",\r\n  appId: \"1:422100533764:web:5cb055c9062799e8812b51\"\r\n};\r\n\r\n// Initialiser Firebase\r\nif(firebase.apps.length === 0) {\r\n  firebase.initializeApp(firebaseConfig);\r\n}\r\n\r\n// Initialiser Firestore\r\nconst dbFirestore = firebase.firestore();\r\n\r\n// Exporter par défaut la référence à Firestore\r\nexport default dbFirestore;\r\n\r\n// Initialiser FirebaseUI\r\nexport const instanceFbUI = new firebaseui.auth.AuthUI(firebase.auth());","import './Accueil.scss';\r\nimport firebase from 'firebase/app';\r\nimport { instanceFbUI } from '../data/firebase';\r\nimport 'firebaseui/dist/firebaseui.css';\r\nimport { useEffect } from 'react';\r\n\r\nexport default function Accueil() {\r\n\r\n  useEffect(\r\n    () => instanceFbUI.start('#fbui', {\r\n      signInOptions: [\r\n        firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n        firebase.auth.FacebookAuthProvider.PROVIDER_ID,\r\n        firebase.auth.GithubAuthProvider.PROVIDER_ID\r\n      ],\r\n      signInFlow: 'popup'\r\n    })\r\n  , []);\r\n\r\n  return (\r\n    <div className=\"Accueil\">\r\n      <h3 className=\"logo\">Signets <span>(beta)</span></h3>\r\n      <h2 className=\"amorce\">Organisez vos signets Web, <br/>Un jeu d'enfant</h2>\r\n      <div id=\"fbui\"></div>\r\n    </div>\r\n  );\r\n}","import './Dossier.scss'; \r\nimport { IconButton } from '@material-ui/core';\r\nimport SortIcon from '@material-ui/icons/Sort';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\nexport default function Dossier({nom, couleur, modification, image}) {\r\n  return (\r\n    <article className=\"Dossier\" style={{backgroundColor: couleur}}>\r\n      <div className=\"couverture\">\r\n        <IconButton className=\"deplacer\" aria-label=\"déplacer\" disableRipple={true}>\r\n          <SortIcon />\r\n        </IconButton>\r\n        <img src={image} alt={nom}/>\r\n      </div>\r\n      <div className=\"info\">\r\n        <h2>{nom}</h2>\r\n        <p>Modifié : {obtenirDateFormatee(modification)}</p>\r\n      </div>\r\n      <IconButton className=\"modifier\" aria-label=\"modifier\" size=\"small\">\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n    </article>\r\n  );\r\n}\r\n\r\nfunction obtenirDateFormatee(objetDateFb) {\r\n  let dateJS = (objetDateFb) ? new Date(objetDateFb.seconds*1000) : new Date();\r\n  let nomsDesMois = ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre'];\r\n  let jour = dateJS.getDate();\r\n  let mois = nomsDesMois[dateJS.getMonth()];\r\n  let annee = dateJS.getFullYear();\r\n\r\n  return `${jour} ${mois} ${annee}`;\r\n}","import './ListeDossiers.scss';\r\nimport Dossier from './Dossier';\r\nimport { useEffect, useState } from 'react';\r\nimport dbFirestore from '../data/firebase';\r\n\r\nexport default function ListeDossiers() {\r\n  // État des dossiers de signets\r\n  const [dossiers, setDossiers] = useState([]);\r\n\r\n  // Étape C : Exécuter une requête sur la collection 'dossiers-temp' pour lire l'info des dossiers disponibles\r\n  // Comme le code suivant fait appel à une ressource externe, il est ASYNCHRONE\r\n  // donc, il n'y a pas de garantie que le tableau dossiers soit remplit avant l'affichage du composant\r\n  useEffect(\r\n    () => dbFirestore.collection('dossiers-temp').get().then(\r\n            reponse => {\r\n              let dossiersTemp = [];\r\n              reponse.forEach(doc => dossiersTemp.push({id: doc.id, ...doc.data()}));\r\n              setDossiers(dossiersTemp);\r\n            }\r\n          )\r\n    , []\r\n  );\r\n\r\n  return (\r\n    <ul className=\"ListeDossiers\">\r\n      {\r\n        dossiers.map( \r\n          dossier =>  <li key={dossier.id}><Dossier {...dossier} /></li>\r\n        )\r\n      }\r\n    </ul>\r\n  );\r\n}","import './Appli.scss';\r\nimport Entete from './Entete';\r\nimport Accueil from './Accueil';\r\nimport ListeDossiers from './ListeDossiers';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useState, useEffect } from 'react';\r\nimport firebase from 'firebase/app'; \r\n\r\nexport default function Appli() {\r\n  const [utilisateur, setUtilisateur] = useState(null);\r\n\r\n  useEffect(\r\n    () => {\r\n      firebase.auth().onAuthStateChanged(\r\n        util => setUtilisateur(util)\r\n      )\r\n    }\r\n  , []);\r\n\r\n  return (\r\n    <div className=\"Appli\">\r\n      {\r\n        utilisateur ?\r\n          <>\r\n            <Entete utilisateur={utilisateur} />\r\n            <section className=\"contenu-principal\">\r\n              <ListeDossiers />\r\n              <Fab className=\"ajoutRessource\" color=\"primary\" aria-label=\"Ajouter dossier\">\r\n                <AddIcon />\r\n              </Fab>\r\n            </section>\r\n          </>\r\n        :\r\n          <Accueil />\r\n      }\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport Appli from './composants/Appli';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Appli />\r\n  </React.StrictMode>,\r\n  document.getElementById('racine')\r\n);\r\n"],"sourceRoot":""}